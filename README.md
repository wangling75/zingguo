{\rtf1\ansi\ansicpg936\cocoartf2759
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 # Zinguo \uc0\u28020 \u38712  Home Assistant \u38598 \u25104 \
![Version]({\field{\*\fldinst{HYPERLINK "https://github.com/wangling75/zingguo/upload"}}{\fldrslt https://github.com/wangling75/zingguo}}?label=version&color=blue)\
![hacs_badge](https://img.shields.io/badge/HACS-Custom-orange.svg)\
## \uc0\u55357 \u56580  \u36817 \u26399 \u26356 \u26032 \
\
### \uc0\u10024  \u26032 \u22686 \u21151 \u33021 \
\
* **\uc0\u28369 \u22359 \u36755 \u20837 \u25903 \u25345 **\u65306 \u26032 \u22686 \u28369 \u22359 \u36755 \u20837 \u25511 \u20214 \u65292 \u27604 \u20256 \u32479  number \u25511 \u20214 \u26356 \u30452 \u35266 \u26041 \u20415 \
* **\uc0\u22810  API \u31471 \u28857 \u33258 \u21160 \u36873 \u25321 **\u65306 \u31995 \u32479 \u20250 \u33258 \u21160 \u26816 \u27979 \u24182 \u36873 \u25321 \u21487 \u29992 \u30340  API \u31471 \u28857 \u65292 \u25552 \u39640 \u36830 \u25509 \u31283 \u23450 \u24615 \
\
## \uc0\u39033 \u30446 \u31616 \u20171 \
\
\uc0\u19968 \u20010 \u23436 \u25972 \u30340  Zinguo \u26234 \u33021 \u28020 \u38712  Home Assistant \u38598 \u25104 \u65292 \u36890 \u36807 \u29992 \u25143 \u21451 \u22909 \u30028 \u38754 \u21644 \u23433 \u20840 \u20973 \u35777 \u23384 \u20648 \u65292 \u25552 \u20379 \u23545 \u28020 \u38712 \u30340 \u20840 \u38754 \u25511 \u21046 \u12290 \
\
## \uc0\u10024  \u26680 \u24515 \u21151 \u33021 \
\
### \uc0\u55356 \u57243 \u65039  \u23436 \u25972 \u35774 \u22791 \u25511 \u21046 \
\
* \uc0\u8203 **\u39118 \u25159 \u23454 \u20307 **\u8203 \u65306 \u25903 \u25345 \u39044 \u35774 \u27169 \u24335 \u65288 \u20851 \u38381 /\u21561 \u39118 /\u26262 \u39118 \u20302 \u26723 /\u26262 \u39118 \u39640 \u26723 \u65289 \
* \uc0\u8203 **\u29420 \u31435 \u24320 \u20851 **\u8203 \u65306 \u28783 \u20809 /\u25442 \u27668 /\u21561 \u39118 /\u26262 \u39118 1/\u26262 \u39118 2 \u29420 \u31435 \u25511 \u21046 \
* \uc0\u8203 **\u28201 \u24230 \u20256 \u24863 \u22120 **\u8203 \u65306 \u23454 \u26102 \u28201 \u24230 \u30417 \u27979 \u65288 \u8451 \u65289 \
* \uc0\u8203 **\u22312 \u32447 \u29366 \u24577 **\u8203 \u65306 \u35774 \u22791 \u36830 \u25509 \u29366 \u24577 \u23454 \u26102 \u26174 \u31034 \
* \uc0\u8203 **\u23454 \u20307 \u20998 \u32452 **\u8203 \u65306 \u33258 \u21160 \u21019 \u24314 \u35774 \u22791 \u23454 \u20307 \u32452 \
\
### \uc0\u55357 \u56594  \u23433 \u20840 \u19982 \u38544 \u31169 \
\
* \uc0\u20351 \u29992  Home Assistant \u21152 \u23494 \u20973 \u35777 \u23384 \u20648 \
* \uc0\u25152 \u26377 \u25968 \u25454 \u26412 \u22320 \u22788 \u29702 \u65292 \u26080 \u20113 \u31471 \u23384 \u20648 \
* \uc0\u30452 \u25509 \u19982  Zinguo \u23448 \u26041  API \u36890 \u20449 \
* \uc0\u33258 \u21160 \u20196 \u29260 \u21047 \u26032 \u65292 \u26080 \u25163 \u21160 \u25805 \u20316 \
* \uc0\u19981 \u25910 \u38598 \u20219 \u20309 \u29992 \u25143 \u20351 \u29992 \u25968 \u25454 \
\
### \uc0\u55357 \u56960  \u29992 \u25143 \u20307 \u39564 \
\
* \uc0\u22270 \u24418 \u21270 \u37197 \u32622 \u65292 \u26080 \u38656 \u32534 \u36753  YAML\
* \uc0\u26234 \u33021 \u38169 \u35823 \u22788 \u29702 \u65288 \u33258 \u21160 \u37325 \u35797 /\u32593 \u32476 \u24674 \u22797 /\u38169 \u35823 \u25552 \u31034 \u65289 \
* \uc0\u22810 \u35821 \u35328 \u25903 \u25345 \u65288 \u21547 \u20013 \u25991 \u30028 \u38754 \u65289 \
* \uc0\u21709 \u24212 \u24335 \u35774 \u35745 \u65288 \u36866 \u37197 \u26700 \u38754 /\u24179 \u26495 /\u25163 \u26426 \u65289 \
* \uc0\u25511 \u21046 \u25351 \u20196 \u31186 \u32423 \u21709 \u24212 \
\
### \uc0\u55357 \u56580  \u26234 \u33021 \u21151 \u33021 \
\
* \uc0\u23454 \u26102 \u29366 \u24577 \u21516 \u27493 \
* \uc0\u22330 \u26223 \u35760 \u24518 \u65288 \u35760 \u20303 \u29992 \u25143 \u20559 \u22909 \u65289 \
* \uc0\u35774 \u22791 \u32852 \u21160 \u35302 \u21457 \
* \uc0\u21487 \u37197 \u32622 \u23450 \u26102 \u20219 \u21153 \
* \uc0\u36828 \u31243 \u25511 \u21046 \
\
### \uc0\u55357 \u57057 \u65039  \u31283 \u23450 \u24615 \u20445 \u35777 \
\
* \uc0\u33258 \u21160 \u20445 \u25345 \u35774 \u22791 \u36830 \u25509 \
* \uc0\u32593 \u32476 \u24322 \u24120 \u26102 \u33258 \u21160 \u37325 \u36830 \
* \uc0\u37325 \u21551 \u21518 \u33258 \u21160 \u24674 \u22797 \u19978 \u27425 \u29366 \u24577 \
* \uc0\u20860 \u23481 \u22810 \u31181  Home Assistant \u29256 \u26412 \
* \uc0\u25903 \u25345 \u26080 \u32541 \u26356 \u26032 \
\
## \uc0\u55357 \u56550  \u23433 \u35013 \u26041 \u27861 \
\
### \uc0\u26041 \u27861 \u19968 \u65306 HACS \u23433 \u35013 \u65288 \u25512 \u33616 \u65289 \
\
1. \uc0\u30830 \u20445 \u24050 \u23433 \u35013  HACS\u65288 \u26410 \u23433 \u35013 \u35831 \u20808 \u35775 \u38382  HACS \u23448 \u32593 \u25353 \u25945 \u31243 \u23433 \u35013 \u65289 \
2. \uc0\u25171 \u24320  Home Assistant \u20391 \u36793 \u26639  \u8594  \u28857 \u20987  HACS\
3. \uc0\u28155 \u21152 \u33258 \u23450 \u20041 \u20179 \u24211 \u65306 \
   \
   * \uc0\u28857 \u20987 \u12300 \u38598 \u25104 \u12301 \u8594  \u21491 \u19978 \u35282  \u8942  \u33756 \u21333  \u8594  \u36873 \u25321 \u12300 \u33258 \u23450 \u20041 \u20179 \u24211 \u12301 \
   * \uc0\u20179 \u24211 \u65306 `{\field{\*\fldinst{HYPERLINK "https://github.com/wangling75/zingguo/upload"}}{\fldrslt https://github.com/wangling75/zingguo}}`\
   * \uc0\u31867 \u21035 \u65306 \u38598 \u25104 \
4. \uc0\u25628 \u32034 \u24182 \u23433 \u35013 \u65306 \
   \
   * \uc0\u25628 \u32034 \u26694 \u36755 \u20837 \u12300 Zinguo\u12301 \u8594  \u36873 \u25321 \u12300 Zinguo Bathroom Fan\u12301 \
   * \uc0\u28857 \u20987 \u12300 \u19979 \u36733 \u12301 \u8594  \u36873 \u25321 \u26368 \u26032 \u29256 \u26412  \u8594  \u28857 \u20987 \u12300 \u19979 \u36733 \u12301 \
5. \uc0\u37325 \u21551  Home Assistant\u65306 \u35774 \u32622  \u8594  \u31995 \u32479  \u8594  \u37325 \u21551 \
6. \uc0\u39564 \u35777 \u65306 \u37325 \u21551 \u21518 \u26816 \u26597 \u26159 \u21542 \u20986 \u29616 \u12300 Zinguo Bathroom Fan\u12301 \u38598 \u25104 \
\
### \uc0\u26041 \u27861 \u20108 \u65306 Home Assistant \u25554 \u20214 \u26041 \u24335 \
\
1. \uc0\u28155 \u21152 \u25554 \u20214 \u20179 \u24211 \u65306 \u20179 \u24211 \u22320 \u22336  `{\field{\*\fldinst{HYPERLINK "https://github.com/wangling75/zingguo/upload"}}{\fldrslt https://github.com/wangling75/zingguo}}`\
2. \uc0\u25554 \u20214 \u21830 \u24215 \u25628 \u32034 \u12300 Zinguo Bathroom Fan\u12301 \u8594  \u28857 \u20987 \u23433 \u35013 \
3. \uc0\u21551 \u21160 \u25554 \u20214 \u24182 \u26597 \u30475 \u26085 \u24535 \u30830 \u20445 \u27491 \u24120 \u36816 \u34892 \
4. \uc0\u37325 \u21551  Home Assistant\
\
### \uc0\u26041 \u27861 \u19977 \u65306 \u25163 \u21160 \u23433 \u35013 \
\
1. \uc0\u19979 \u36733 \u25991 \u20214 \u65306 \
   \
   ```bash\
   # Git \uc0\u20811 \u38534 \
   git clone {\field{\*\fldinst{HYPERLINK "https://github.com/wangling75/zingguo/upload"}}{\fldrslt https://github.com/wangling75/zingguo}}.git\
   \
   # \uc0\u25110 \u19979 \u36733  ZIP\
   # \uc0\u35775 \u38382  {\field{\*\fldinst{HYPERLINK "https://github.com/wangling75/zingguo/upload"}}{\fldrslt https://github.com/wangling75/zingguo}}/releases \uc0\u19979 \u36733 \u26368 \u26032 \u29256  ZIP\
   ```\
2. \uc0\u35299 \u21387 \u25991 \u20214 \u65288 ZIP \u38656 \u20808 \u35299 \u21387 \u65289 \
3. \uc0\u22797 \u21046 \u25991 \u20214 \u65306 \
   \
   * \uc0\u25171 \u24320  Home Assistant \u37197 \u32622 \u30446 \u24405 \
   * \uc0\u21019 \u24314  `custom_components`\u25991 \u20214 \u22841 \u65288 \u33509 \u19981 \u23384 \u22312 \u65289 \
   * \uc0\u23558  `zinguo`\u25991 \u20214 \u22841 \u22797 \u21046 \u21040  `custom_components`\
   * \uc0\u30446 \u24405 \u32467 \u26500 \u31034 \u20363 \u65306 \
     \
     ```markdown\
     config/\
     \uc0\u9492 \u9472 \u9472  custom_components/\
         \uc0\u9492 \u9472 \u9472  zinguo/\
             \uc0\u9500 \u9472 \u9472  __init__.py\
             \uc0\u9500 \u9472 \u9472  manifest.json\
             \uc0\u9500 \u9472 \u9472  config_flow.py\
             \uc0\u9500 \u9472 \u9472  const.py\
             \uc0\u9500 \u9472 \u9472  switch.py\
             \uc0\u9500 \u9472 \u9472  fan.py\
             \uc0\u9500 \u9472 \u9472  sensor.py\
             \uc0\u9492 \u9472 \u9472  coordinator.py\
     ```\
4. \uc0\u39564 \u35777 \u65306 \u37325 \u21551  Home Assistant\u65292 \u26816 \u26597 \u26085 \u24535 \u26080 \u38169 \u35823 \u65292 \u30830 \u35748 \u38598 \u25104 \u20986 \u29616 \u22312 \u21015 \u34920 \
\
## \uc0\u9881 \u65039  \u37197 \u32622 \u27493 \u39588 \
\
### \uc0\u31532 \u19968 \u27493 \u65306 \u28155 \u21152 \u38598 \u25104 \
\
1. \uc0\u36827 \u20837  \u35774 \u32622  \u8594  \u35774 \u22791 \u19982 \u26381 \u21153  \u8594  \u28857 \u20987 \u21491 \u19979 \u35282 \u12300 \u28155 \u21152 \u38598 \u25104 \u12301 \
2. \uc0\u25628 \u32034 \u26694 \u36755 \u20837 \u12300 Zinguo\u12301 \u8594  \u36873 \u25321 \u12300 Zinguo Bathroom Fan\u12301 \
3. \uc0\u28857 \u20987 \u38598 \u25104 \u21517 \u31216 \u24320 \u22987 \u37197 \u32622 \
\
### \uc0\u31532 \u20108 \u27493 \u65306 \u36755 \u20837 \u20973 \u35777 \u20449 \u24687 \
\
| \uc0\u23383 \u27573      | \u35828 \u26126                      | \u31034 \u20363            | \u24517 \u22635  |\
| ---------- | -------------------------- | ---------------- | ------ |\
| \uc0\u36134 \u25143      | \u27880 \u20876  Zinguo \u24212 \u29992 \u30340 \u25163 \u26426 \u21495  | 13800138000    | \\*   |\
| \uc0\u23494 \u30721      | Zinguo \u36134 \u25143 \u23494 \u30721           | your\\_password | \\*   |\
| MAC \uc0\u22320 \u22336  | \u28020 \u38712 \u35774 \u22791  MAC \u22320 \u22336         | ABCDEF123456   | \\*   |\
| \uc0\u21517 \u31216      | \u33258 \u23450 \u20041 \u35774 \u22791 \u21517 \u31216            | \u20027 \u21355 \u28020 \u38712        | \\*   |\
\
\uc0\u8203 **\u33719 \u21462  MAC \u22320 \u22336 **\u8203 \u65306 \
\
\uc0\u25171 \u24320  Zinguo \u23448 \u26041  App \u8594  \u35774 \u22791 \u35814 \u24773 \u39029  \u8594  \u26597 \u30475 \u35774 \u22791 \u20449 \u24687 \u20013 \u30340  MAC \u22320 \u22336 \u65288 12\u20301 \u22823 \u20889 \u23383 \u27597 \u25968 \u23383 \u65292 \u26080 \u20882 \u21495 /\u30701 \u27178 \u32447 \u65289 \
\
\uc0\u8203 **\u27880 \u24847 \u20107 \u39033 **\u8203 \u65306 \
\
* \uc0\u36134 \u25143 \u23494 \u30721 \u20250 \u23433 \u20840 \u21152 \u23494 \u23384 \u20648 \u65292 \u19981 \u26174 \u31034 \u26126 \u25991 \
* MAC \uc0\u22320 \u22336 \u38656 \u23436 \u20840 \u21305 \u37197 \u65288 \u21547 \u22823 \u23567 \u20889 \u65289 \
* \uc0\u35774 \u22791 \u21517 \u31216 \u23558 \u20316 \u20026 \u25152 \u26377 \u23454 \u20307 \u21069 \u32512 \
\
### \uc0\u31532 \u19977 \u27493 \u65306 \u23436 \u25104 \u37197 \u32622 \
\
1. \uc0\u22635 \u20889 \u23436 \u20449 \u24687 \u21518 \u28857 \u20987 \u12300 \u25552 \u20132 \u12301 \u65292 \u31995 \u32479 \u39564 \u35777 \u36134 \u25143 \u21644 \u35774 \u22791 \u20449 \u24687 \
2. \uc0\u39564 \u35777 \u25104 \u21151 \u65306 \u26174 \u31034 \u37197 \u32622 \u25104 \u21151 \u65292 \u33258 \u21160 \u21019 \u24314 \u25152 \u26377 \u23454 \u20307 \
3. \uc0\u21518 \u32493 \u20462 \u25913 \u65306 \u28857 \u20987 \u38598 \u25104 \u12300 \u36873 \u39033 \u12301 \u21487 \u20462 \u25913 \u35774 \u22791 \u26174 \u31034 \u21517 \u31216 \
\
## \uc0\u55356 \u57312  \u21019 \u24314 \u30340 \u23454 \u20307 \
\
### \uc0\u39118 \u25159 \u23454 \u20307 \
\
* \uc0\u8203 **\u23454 \u20307 ID**\u8203 \u65306 `fan.[\u35774 \u22791 \u21517 \u31216 ]_fan`\
* \uc0\u8203 **\u21517 \u31216 **\u8203 \u65306 `[\u35774 \u22791 \u21517 \u31216 ] Fan`\
* \uc0\u8203 **\u21151 \u33021 **\u8203 \u65306 \u20027 \u25511 \u21046 \u38754 \u26495 \u65288 \u21547 \u39044 \u35774 \u27169 \u24335 \u65289 \
* \uc0\u8203 **\u29366 \u24577 **\u8203 \u65306 \u24320 \u20851 \u29366 \u24577 \u12289 \u39044 \u35774 \u27169 \u24335 \
* \uc0\u8203 **\u23646 \u24615 **\u8203 \u65306 \u28201 \u24230 \u12289 \u22312 \u32447 \u29366 \u24577 \u31561 \
\
### \uc0\u24320 \u20851 \u23454 \u20307 \
\
| \uc0\u21151 \u33021   | \u23454 \u20307 ID                              | \u21517 \u31216                    | \u22270 \u26631            | \u21151 \u33021 \u25551 \u36848               |\
| ------- | ------------------------------------- | ------------------------ | ---------------- | ----------------------- |\
| \uc0\u28783 \u20809   | `switch.[\u35774 \u22791 \u21517 \u31216 ]_light`       | [\u35774 \u22791 \u21517 \u31216 ] Light       | mdi:lightbulb  | \u25511 \u21046 \u28020 \u38712 \u28783 \u20809           |\
| \uc0\u25442 \u27668   | `switch.[\u35774 \u22791 \u21517 \u31216 ]_ventilation` | [\u35774 \u22791 \u21517 \u31216 ] Ventilation | mdi:air-filter | \u25511 \u21046 \u25442 \u27668 \u21151 \u33021           |\
| \uc0\u21561 \u39118   | `switch.[\u35774 \u22791 \u21517 \u31216 ]_wind`        | [\u35774 \u22791 \u21517 \u31216 ] Wind        | mdi:fan        | \u25511 \u21046 \u21561 \u39118 \u21151 \u33021           |\
| \uc0\u26262 \u39118 1 | `switch.[\u35774 \u22791 \u21517 \u31216 ]_heater_1`    | [\u35774 \u22791 \u21517 \u31216 ] Heater 1    | mdi:radiator   | \u25511 \u21046 \u26262 \u39118 1\u65288 \u20302 \u26723 \u21152 \u28909 \u65289  |\
| \uc0\u26262 \u39118 2 | `switch.[\u35774 \u22791 \u21517 \u31216 ]_heater_2`    | [\u35774 \u22791 \u21517 \u31216 ] Heater 2    | mdi:radiator   | \u25511 \u21046 \u26262 \u39118 2\u65288 \u39640 \u26723 \u21152 \u28909 \u65289  |\
\
### \uc0\u20256 \u24863 \u22120 \u23454 \u20307 \
\
| \uc0\u21151 \u33021        | \u23454 \u20307 ID                                | \u21517 \u31216                      | \u21333 \u20301  | \u31934 \u24230    | \u35774 \u22791 \u31867       | \u26356 \u26032 \u39057 \u29575  |\
| ------------ | --------------------------------------- | -------------------------- | ------ | -------- | ------------- | ---------- |\
| \uc0\u28201 \u24230 \u20256 \u24863 \u22120  | `sensor.[\u35774 \u22791 \u21517 \u31216 ]_temperature`   | [\u35774 \u22791 \u21517 \u31216 ] Temperature   | \'b0C  | 0.1\'b0C | temperature | 5\u20998 \u38047     |\
| \uc0\u22312 \u32447 \u29366 \u24577    | `sensor.[\u35774 \u22791 \u21517 \u31216 ]_online_status` | [\u35774 \u22791 \u21517 \u31216 ] Online Status | -    | -      | -           | \u23454 \u26102      |\
\
\uc0\u8203 **\u35774 \u22791 \u27880 \u20876 **\u8203 \u65306 \u25152 \u26377 \u23454 \u20307 \u33258 \u21160 \u27880 \u20876 \u21040 \u21516 \u19968 \u35774 \u22791 \u19979 \u65288 \u21517 \u31216 =\u37197 \u32622 \u26102 \u35774 \u32622 \u30340 \u21517 \u31216 \u65292 \u21046 \u36896 \u21830 =Zinguo\u65292 \u22411 \u21495 =Smart Bathroom Fan\u65292 \u36830 \u25509 \u26041 \u24335 =\u20113 \u31471 \u65289 \
\
## \uc0\u55356 \u57262  \u20351 \u29992 \u26041 \u27861 \
\
### \uc0\u39118 \u25159 \u25511 \u21046 \
\
\uc0\u8203 **\u21487 \u29992 \u27169 \u24335 **\u8203 \u65306 `off`\u65288 \u20851 \u38381 \u65289 \u12289 `cool`\u65288 \u21561 \u39118 \u65289 \u12289 `heat_low`\u65288 \u26262 \u39118 \u20302 \u26723 \u65289 \u12289 `heat_high`\u65288 \u26262 \u39118 \u39640 \u26723 \u65289 \
\
\uc0\u8203 **\u26381 \u21153 \u35843 \u29992 \u31034 \u20363 **\u8203 \u65306 \
\
```yaml\
# \uc0\u24320 \u21551 \u21561 \u39118 \u27169 \u24335 \
service: fan.set_preset_mode\
target:\
  entity_id: fan.bathroom_fan\
data:\
  preset_mode: "cool"\
\
# \uc0\u24320 \u21551 \u26262 \u39118 \u20302 \u26723 \
service: fan.set_preset_mode\
target:\
  entity_id: fan.bathroom_fan\
data:\
  preset_mode: "heat_low"\
\
# \uc0\u20851 \u38381 \u39118 \u25159 \
service: fan.turn_off\
target:\
  entity_id: fan.bathroom_fan\
```\
\
### \uc0\u29420 \u31435 \u24320 \u20851 \u25511 \u21046 \
\
\uc0\u8203 **\u26381 \u21153 \u35843 \u29992 \u31034 \u20363 **\u8203 \u65306 \
\
```yaml\
# \uc0\u25171 \u24320 \u28783 \u20809 \
service: switch.turn_on\
target:\
  entity_id: switch.bathroom_light\
\
# \uc0\u25171 \u24320 \u25442 \u27668 \
service: switch.turn_on\
target:\
  entity_id: switch.bathroom_ventilation\
\
# \uc0\u25171 \u24320 \u26262 \u39118 1\
service: switch.turn_on\
target:\
  entity_id: switch.bathroom_heater_1\
```\
\
## \uc0\u55358 \u56598  \u33258 \u21160 \u21270 \u31034 \u20363 \
\
### \uc0\u31034 \u20363 1\u65306 \u26089 \u26216 \u27927 \u28577 \u39044 \u28909 \u65288 \u24037 \u20316 \u26085 7\u28857 \u33258 \u21160 \u24320 \u21551 \u26262 \u39118 20\u20998 \u38047 \u65289 \
\
```yaml\
automation:\
  - alias: "\uc0\u24037 \u20316 \u26085 \u26089 \u26216 \u39044 \u28909 "\
    description: "\uc0\u24037 \u20316 \u26085 7\u28857 \u33258 \u21160 \u24320 \u21551 \u26262 \u39118 "\
    trigger:\
      platform: time\
      at: "07:00:00"\
    condition:\
      - condition: time\
        weekday: [mon, tue, wed, thu, fri]\
      - condition: state\
        entity_id: sensor.bathroom_temperature\
        below: 22\
    action:\
      - service: fan.set_preset_mode\
        target: \{entity_id: fan.bathroom_fan\}\
        data: \{preset_mode: "heat_low"\}\
      - delay: "00:20:00"\
      - service: fan.set_preset_mode\
        target: \{entity_id: fan.bathroom_fan\}\
        data: \{preset_mode: "off"\}\
    mode: single\
```\
\
### \uc0\u31034 \u20363 2\u65306 \u28287 \u24230 \u25511 \u21046 \u65288 \u28287 \u24230 >75%\u33258 \u21160 \u25442 \u27668 25\u20998 \u38047 \u65289 \
\
```yaml\
automation:\
  - alias: "\uc0\u26234 \u33021 \u28287 \u24230 \u25511 \u21046 "\
    description: "\uc0\u28287 \u24230 \u36229 \u36807 75%\u33258 \u21160 \u25442 \u27668 "\
    trigger:\
      - platform: numeric_state\
        entity_id: sensor.bathroom_humidity\
        above: 75\
      - platform: state\
        entity_id: binary_sensor.bathroom_motion\
        to: "off"\
        from: "on"\
    condition:\
      - condition: state\
        entity_id: switch.bathroom_ventilation\
        state: "off"\
      - condition: template\
        value_template: "\{\{ states('sensor.bathroom_humidity') | float > 75 \}\}"\
    action:\
      - service: switch.turn_on\
        target: \{entity_id: switch.bathroom_ventilation\}\
      - delay: "00:25:00"\
      - service: switch.turn_off\
        target: \{entity_id: switch.bathroom_ventilation\}\
    mode: restart\
```\
\
### \uc0\u31034 \u20363 3\u65306 \u22238 \u23478 \u33258 \u21160 \u39044 \u28909 \u65288 \u26816 \u27979 \u21040 \u22238 \u23478 \u19988 \u23460 \u28201 <20\u8451 \u26102 \u39044 \u28909 15\u20998 \u38047 \u65289 \
\
```yaml\
automation:\
  - alias: "\uc0\u22238 \u23478 \u33258 \u21160 \u39044 \u28909 "\
    description: "\uc0\u26816 \u27979 \u21040 \u21363 \u23558 \u22238 \u23478 \u26102 \u39044 \u28909 \u21355 \u29983 \u38388 "\
    trigger:\
      platform: zone\
      entity_id: device_tracker.person_name\
      zone: zone.home\
      event: enter\
    condition:\
      - condition: sun\
        after: sunset\
        before: sunrise\
      - condition: template\
        value_template: "\{\{ states('sensor.bathroom_temperature') | float < 20 \}\}"\
    action:\
      - service: fan.set_preset_mode\
        target: \{entity_id: fan.bathroom_fan\}\
        data: \{preset_mode: "heat_low"\}\
      - delay: "00:15:00"\
      - service: fan.set_preset_mode\
        target: \{entity_id: fan.bathroom_fan\}\
        data: \{preset_mode: "off"\}\
```\
\
### \uc0\u31034 \u20363 4\u65306 \u28201 \u24230 \u20445 \u25252 \u65288 \u23460 \u28201 >35\u8451 \u26102 \u33258 \u21160 \u20851 \u38381 \u21152 \u28909 \u24182 \u36890 \u30693 \u65289 \
\
```yaml\
automation:\
  - alias: "\uc0\u28201 \u24230 \u20445 \u25252 "\
    description: "\uc0\u28201 \u24230 \u36807 \u39640 \u26102 \u33258 \u21160 \u20851 \u38381 \u21152 \u28909 "\
    trigger:\
      platform: numeric_state\
      entity_id: sensor.bathroom_temperature\
      above: 35\
    condition:\
      - condition: or\
        conditions:\
          - condition: state\
            entity_id: switch.bathroom_heater_1\
            state: "on"\
          - condition: state\
            entity_id: switch.bathroom_heater_2\
            state: "on"\
    action:\
      - service: fan.set_preset_mode\
        target: \{entity_id: fan.bathroom_fan\}\
        data: \{preset_mode: "off"\}\
      - service: notify.mobile_app_phone\
        data:\
          message: "\uc0\u28020 \u38712 \u28201 \u24230 \u36807 \u39640 \u65292 \u24050 \u33258 \u21160 \u20851 \u38381 \u21152 \u28909 \u21151 \u33021 "\
          title: "\uc0\u23433 \u20840 \u25552 \u37266 "\
    mode: single\
```\
\
## \uc0\u55357 \u56561  Lovelace \u21345 \u29255 \u37197 \u32622 \
\
### \uc0\u31616 \u27905 \u25511 \u21046 \u38754 \u26495 \
\
```yaml\
type: vertical-stack\
cards:\
  - type: entity\
    entity: fan.bathroom_fan\
    name: \uc0\u28020 \u38712 \u25511 \u21046 \
    icon: mdi:fan\
    tap_action: \{action: more-info\}\
  - type: horizontal-stack\
    cards:\
      - type: button\
        entity: switch.bathroom_light\
        name: \uc0\u28783 \u20809 \
        icon: mdi:lightbulb\
        tap_action: \{action: toggle\}\
      - type: button\
        entity: switch.bathroom_ventilation\
        name: \uc0\u25442 \u27668 \
        icon: mdi:air-filter\
        tap_action: \{action: toggle\}\
  - type: entities\
    entities:\
      - entity: sensor.bathroom_temperature\
        name: \uc0\u24403 \u21069 \u28201 \u24230 \
        icon: mdi:thermometer\
      - entity: sensor.bathroom_online_status\
        name: \uc0\u35774 \u22791 \u29366 \u24577 \
        icon: mdi:wifi\
```\
\
### \uc0\u39640 \u32423 \u25511 \u21046 \u38754 \u26495 \u65288 \u38656 \u23433 \u35013  Mushroom \u21345 \u29255 \u65289 \
\
```yaml\
type: custom:mushroom-title-card\
title: \uc0\u21355 \u29983 \u38388 \u28020 \u38712 \
subtitle: Zinguo \uc0\u26234 \u33021 \u28020 \u38712 \
\
type: custom:mushroom-chips-card\
chips:\
  - type: template\
    icon: mdi:fan\
    icon_color: |\
      [[[\
        if (states['fan.bathroom_fan'].state === 'off') return 'grey';\
        else return 'blue';\
      ]]]\
    content: |\
      [[[\
        const state = states['fan.bathroom_fan'].state;\
        if (state === 'off') return '\uc0\u20851 \u38381 ';\
        if (state === 'cool') return '\uc0\u21561 \u39118 ';\
        if (state === 'heat_low') return '\uc0\u26262 \u39118 \u20302 \u26723 ';\
        if (state === 'heat_high') return '\uc0\u26262 \u39118 \u39640 \u26723 ';\
        return state;\
      ]]]\
    tap_action: \{action: more-info, entity: fan.bathroom_fan\}\
\
type: custom:mushroom-template-card\
primary: \uc0\u28201 \u24230 \
secondary: "[[[ return states['sensor.bathroom_temperature'].state + '\'b0C'; ]]]"\
icon: mdi:thermometer\
icon_color: |\
  [[[\
    const temp = parseFloat(states['sensor.bathroom_temperature'].state);\
    if (temp < 20) return 'blue';\
    if (temp > 30) return 'red';\
    return 'green';\
  ]]]\
\
type: custom:mushroom-entity-card\
entity: sensor.bathroom_online_status\
name: \uc0\u36830 \u25509 \u29366 \u24577 \
icon: mdi:wifi\
icon_color: |\
  [[[\
    if (states['sensor.bathroom_online_status'].state === 'Online') return 'green';\
    else return 'red';\
  ]]]\
```\
\
## \uc0\u55357 \u56615  \u25925 \u38556 \u25490 \u38500 \
\
### \uc0\u24120 \u35265 \u38382 \u39064 \
\
| \uc0\u38382 \u39064                        | \u21487 \u33021 \u21407 \u22240                                 | \u35299 \u20915 \u26041 \u27861                                                                              |\
| ---------------------------- | ----------------------------------------- | -------------------------------------------------------------------------------------- |\
| \uc0\u38598 \u25104 \u26410 \u20986 \u29616 \u22312 \u38598 \u25104 \u21015 \u34920        | \u26410 \u37325 \u21551  HA/\u25991 \u20214 \u20301 \u32622 \u38169 \u35823 /\u26435 \u38480 \u38382 \u39064          | \u37325 \u21551  HA\u65307 \u26816 \u26597  `custom_components/zinguo`\u23384 \u22312 \u65307 `chmod -R 755`\u25991 \u20214 \u22841 \u65307 \u26597 \u30475 \u26085 \u24535  |\
| \uc0\u37197 \u32622 \u26102 \u25552 \u31034 "\u26080 \u27861 \u36830 \u25509 \u21040 \u35774 \u22791 " | MAC \u38169 \u35823 /\u36134 \u25143 \u23494 \u30721 \u38169 \u35823 /\u35774 \u22791 \u31163 \u32447 /\u32593 \u32476 \u38382 \u39064  | \u30830 \u35748  MAC\u65288 12\u20301 \u22823 \u20889 \u65289 \u65307 \u29992  App \u27979 \u35797 \u36134 \u25143 \u65307 \u26816 \u26597 \u35774 \u22791 \u22312 \u32447 \u65307 \u26816 \u26597 \u32593 \u32476                         |\
| \uc0\u23454 \u20307 \u29366 \u24577 \u19981 \u26356 \u26032              | \u35774 \u22791 \u31163 \u32447 /API \u20196 \u29260 \u36807 \u26399 /\u32593 \u32476 \u19981 \u31283 \u23450         | \u26816 \u26597 \u22312 \u32447 \u29366 \u24577 \u20256 \u24863 \u22120 \u65307 \u21024 \u38500 \u38598 \u25104 \u21518 \u37325 \u21152 \u65307 \u26816 \u26597 \u32593 \u32476                                          |\
| \uc0\u25511 \u21046 \u25351 \u20196 \u25191 \u34892 \u22833 \u36133            | \u35774 \u22791 \u26410 \u21709 \u24212 /API \u38480 \u21046 /\u24182 \u21457 \u25511 \u21046             | \u31561 \u24453 \u20960 \u31186 \u37325 \u35797 \u65307 \u26816 \u26597 \u35774 \u22791 \u26159 \u21542 \u32321 \u24537 \u65307 \u36991 \u20813 \u39057 \u32321 \u21457 \u25351 \u20196                                        |\
| \uc0\u25353 \u38190 \u20043 \u38388 \u23384 \u22312 \u20114 \u26021 \u38382 \u39064        | \u24320 \u20851 \u32852 \u21160 \u36923 \u36753 \u38382 \u39064                         | \u23581 \u35797 \u19981 \u21516 \u30340 \u25805 \u20316 \u39034 \u24207 \u65307 \u31561 \u24453 \u20462 \u22797 \u26356 \u26032 \u65307 \u27426 \u36814 \u25552 \u20132  PR \u24110 \u21161 \u35299 \u20915                                  |\
\
### \uc0\u38169 \u35823 \u20195 \u30721 \
\
| \uc0\u38169 \u35823 \u20195 \u30721        | \u21547 \u20041        | \u35299 \u20915 \u26041 \u27861          |\
| ---------------- | ------------ | ------------------ |\
| 401            | \uc0\u35748 \u35777 \u22833 \u36133    | \u37325 \u26032 \u36755 \u20837 \u36134 \u25143 \u23494 \u30721  |\
| 404            | \uc0\u35774 \u22791 \u26410 \u25214 \u21040  | \u26816 \u26597  MAC \u22320 \u22336     |\
| 500            | \uc0\u26381 \u21153 \u22120 \u38169 \u35823  | \u31561 \u24453 \u21518 \u37325 \u35797        |\
| timeout        | \uc0\u36830 \u25509 \u36229 \u26102    | \u26816 \u26597 \u32593 \u32476 \u36830 \u25509      |\
| invalid\\_token | \uc0\u20196 \u29260 \u26080 \u25928    | \u37325 \u21551 \u38598 \u25104          |\
\
### \uc0\u26085 \u24535 \u35843 \u35797 \
\
1. \uc0\u21551 \u29992 \u35843 \u35797 \u26085 \u24535 \u65306 \u22312  `configuration.yaml`\u28155 \u21152 \
   \
   ```yaml\
   logger:\
     default: info\
     logs:\
       custom_components.zinguo: debug\
   ```\
2. \uc0\u26597 \u30475 \u26085 \u24535 \u65306 SSH \u25191 \u34892  `tail -f config/home-assistant.log | grep zinguo`\u25110 \u36890 \u36807  Web \u30028 \u38754 \u65288 \u35774 \u32622 \u8594 \u31995 \u32479 \u8594 \u26085 \u24535 \u65289 \
\
## \uc0\u55357 \u56580  \u26356 \u26032 \u19982 \u32500 \u25252 \
\
### \uc0\u36890 \u36807  HACS \u26356 \u26032 \
\
1. \uc0\u25171 \u24320  HACS \u8594  \u38598 \u25104 \
2. \uc0\u25214 \u21040 \u12300 Zinguo Bathroom Fan\u12301 \u65292 \u26377 \u26356 \u26032 \u26102 \u26174 \u31034 \u12300 \u26356 \u26032 \u12301 \u25353 \u38062 \
3. \uc0\u28857 \u20987 \u26356 \u26032 \u8594 \u36873 \u25321 \u29256 \u26412 \u8594 \u19979 \u36733 \u21518 \u37325 \u21551  HA\
\
### \uc0\u25163 \u21160 \u26356 \u26032 \
\
1. \uc0\u22791 \u20221 \u24403 \u21069 \u37197 \u32622 \
2. \uc0\u19979 \u36733 \u26368 \u26032 \u29256 \u26412 \
3. \uc0\u26367 \u25442  `custom_components/zinguo`\u25991 \u20214 \u22841 \
4. \uc0\u37325 \u21551  HA\
\
### \uc0\u22791 \u20221 \u37197 \u32622 \
\
```bash\
tar -czf zinguo-backup-$(date +%Y%m%d).tar.gz \\\
  config/custom_components/zinguo \\\
  config/.storage/core.config_entries\
```\
\
## \uc0\u55357 \u56522  \u25216 \u26415 \u32454 \u33410 \
\
### API \uc0\u25509 \u21475 \
\
* **\uc0\u22810 \u31471 \u28857 \u25903 \u25345 **\u65306 \u31995 \u32479 \u20250 \u33258 \u21160 \u26816 \u27979 \u24182 \u36873 \u25321 \u21487 \u29992 \u30340  API \u31471 \u28857 \
* **\uc0\u35748 \u35777 **\u65306 POST `/customer/login`\u65288 \u21442 \u25968 \u65306 \{"account":"\u25163 \u26426 \u21495 ","password":"\u23494 \u30721 "\}\u65289 \
* **\uc0\u35774 \u22791 \u29366 \u24577 \u26597 \u35810 **\u65306 GET `/customer/devices`\u65288 \u22836 \u37096 \u65306 x-access-token: [\u20196 \u29260 ]\u65289 \
* **\uc0\u35774 \u22791 \u25511 \u21046 **\u65306 PUT `/wifiyuba/yuBaControl`\u65288 \u22836 \u37096 \u65306 x-access-token: [\u20196 \u29260 ]\u65292 \u21442 \u25968 \u65306 \u21547  MAC \u21644 \u25511 \u21046 \u25351 \u20196 \u30340  JSON\u65289 \
\
### \uc0\u24037 \u20316 \u21407 \u29702 \
\
1. **\uc0\u31471 \u28857 \u26816 \u27979 **\u65306 \u33258 \u21160 \u27979 \u35797 \u22810 \u20010  API \u31471 \u28857 \u65292 \u36873 \u25321 \u21487 \u29992 \u30340 \u31471 \u28857 \
2. \uc0\u35748 \u35777 \u65306 \u29992 \u36134 \u25143 \u23494 \u30721 \u33719 \u21462 \u35775 \u38382 \u20196 \u29260 \
3. \uc0\u35774 \u22791 \u21457 \u29616 \u65306 \u26597 \u35810 \u36134 \u25143 \u35774 \u22791 \u65292 \u25353  MAC \u21305 \u37197 \
4. \uc0\u29366 \u24577 \u36718 \u35810 \u65306 \u27599 30\u31186 \u26597 \u35810 \u19968 \u27425 \u29366 \u24577 \
5. \uc0\u25511 \u21046 \u25351 \u20196 \u65306 \u21457 \u36865 \u25351 \u20196 \u21518 \u31435 \u21363 \u21047 \u26032 \u29366 \u24577 \
6. \uc0\u38169 \u35823 \u22788 \u29702 \u65306 \u20196 \u29260 \u36807 \u26399 \u26102 \u33258 \u21160 \u37325 \u26032 \u35748 \u35777 \u65292 \u31471 \u28857 \u19981 \u21487 \u29992 \u26102 \u33258 \u21160 \u20999 \u25442 \
\
### \uc0\u23433 \u20840 \u26426 \u21046 \
\
* \uc0\u20973 \u35777 \u23433 \u20840 \u65306 \u23494 \u30721 \u29992  HA \u21152 \u23494 \u23384 \u20648 \
* \uc0\u20196 \u29260 \u31649 \u29702 \u65306 \u20196 \u29260 \u23384 \u20869 \u23384 \u65292 \u19981 \u25345 \u20037 \u21270 \
* \uc0\u36890 \u20449 \u21152 \u23494 \u65306 \u25152 \u26377  API \u29992  HTTPS\
* \uc0\u26412 \u22320 \u22788 \u29702 \u65306 \u25152 \u26377 \u25968 \u25454 \u26412 \u22320 \u22788 \u29702 \
* \uc0\u26435 \u38480 \u25511 \u21046 \u65306 \u36981 \u24490  HA \u26435 \u38480 \u31995 \u32479 \
\
## \uc0\u55358 \u56605  \u21442 \u19982 \u36129 \u29486 \
\
### \uc0\u25253 \u21578 \u38382 \u39064 \
\
1. \uc0\u35775 \u38382  GitHub Issues\
2. \uc0\u28857 \u20987 \u12300 New Issue\u12301 \u8594  \u36873 \u25321 \u38382 \u39064 \u31867 \u22411 \
3. \uc0\u25552 \u20379 \u35814 \u32454 \u20449 \u24687 \u65306 HA \u29256 \u26412 \u12289 \u38598 \u25104 \u29256 \u26412 \u12289 \u38169 \u35823 \u26085 \u24535 \u12289 \u22797 \u29616 \u27493 \u39588 \
\
### \uc0\u21151 \u33021 \u24314 \u35758 \
\
1. \uc0\u21019 \u24314  Feature Request Issue\
2. \uc0\u25551 \u36848 \u21151 \u33021 \u38656 \u27714 \u21644 \u20351 \u29992 \u22330 \u26223 \u65292 \u25552 \u20379 \u21442 \u32771 \u23454 \u29616 \u65288 \u22914 \u26377 \u65289 \
\
### \uc0\u20195 \u30721 \u36129 \u29486 \
\
1. Fork \uc0\u20179 \u24211  \u8594  \u21019 \u24314 \u21151 \u33021 \u20998 \u25903  \u8594  \u25552 \u20132 \u21464 \u26356  \u8594  \u21019 \u24314  Pull Request\
2. \uc0\u20195 \u30721 \u35268 \u33539 \u65306 \u36981 \u24490  Python PEP 8\u65292 \u28155 \u21152 \u31867 \u22411 \u27880 \u35299 \u12289 \u25991 \u26723 \u27880 \u37322 \u65292 \u21253 \u21547 \u27979 \u35797 \u29992 \u20363 \
3. **\uc0\u29305 \u21035 \u27426 \u36814 **\u65306 \u20851 \u20110 \u25353 \u38190 \u20114 \u26021 \u38382 \u39064 \u30340 \u20462 \u22797  PR\u65292 \u26399 \u24453 \u21508 \u20301 \u22823 \u20332 \u30340 \u36129 \u29486 \u65281 \
\
### \uc0\u25552 \u20132  PR \u25351 \u21335 \
\
- \uc0\u30830 \u20445 \u20195 \u30721 \u36890 \u36807 \u25152 \u26377 \u27979 \u35797 \
- \uc0\u25552 \u20379 \u28165 \u26224 \u30340  PR \u25551 \u36848 \u21644 \u38382 \u39064 \u20462 \u22797 \u35828 \u26126 \
- \uc0\u36981 \u24490 \u39033 \u30446 \u29616 \u26377 \u30340 \u20195 \u30721 \u39118 \u26684 \
- \uc0\u20026 \u26032 \u21151 \u33021 \u28155 \u21152 \u36866 \u24403 \u30340 \u25991 \u26723 \
\
## \uc0\u55357 \u56516  \u35768 \u21487 \u35777 \
\
\uc0\u37319 \u29992  MIT \u35768 \u21487 \u35777 \u65292 \u35814 \u35265  LICENSE\u25991 \u20214 \u12290 \
\
## \uc0\u55357 \u56911  \u33268 \u35874 \
\
\uc0\u24863 \u35874  Zinguo\u65288 \u20248 \u36136 \u26234 \u33021 \u28020 \u38712 \u20135 \u21697 \u65289 \u12289 Home Assistant \u22242 \u38431 \u65288 \u20248 \u31168 \u26234 \u33021 \u23478 \u23621 \u24179 \u21488 \u65289 \u12289 HACS \u22242 \u38431 \u65288 \u20415 \u25463 \u25554 \u20214 \u31649 \u29702 \u65289 \u12289 \u25152 \u26377 \u36129 \u29486 \u32773 \u21644 \u27979 \u35797 \u29992 \u25143 \u12290 \
\
## \uc0\u55357 \u56542  \u25903 \u25345 \u19982 \u24110 \u21161 \
\
* \uc0\u8203 **GitHub Issues**\u8203 \u65306 \u25253 \u21578 \u38382 \u39064 \u21644 \u21151 \u33021 \u35831 \u27714 \
* \uc0\u8203 **Home Assistant \u31038 \u21306 **\u8203 \u65306 \u35770 \u22363 \u23547 \u27714 \u24110 \u21161 \
* \uc0\u8203 **Discussions**\u8203 \u65306 \u21442 \u19982 \u21151 \u33021 \u35752 \u35770 \
* \uc0\u8203 **\u32852 \u31995 \u32500 \u25252 \u32773 **\u8203 \u65306 GitHub @jyz0501\u65288 Email \u36890 \u36807  GitHub \u20010 \u20154 \u36164 \u26009 \u33719 \u21462 \u65289 \
\
## \uc0\u55357 \u56599  \u30456 \u20851 \u38142 \u25509 \
\
* Home Assistant \uc0\u23448 \u32593 \
* HACS \uc0\u23448 \u32593 \
* Zinguo \uc0\u23448 \u32593 \
* Home Assistant \uc0\u20013 \u25991 \u31038 \u21306 \
* Home Assistant \uc0\u23448 \u26041 \u35770 \u22363 \
\
---\
\
**\uc0\u8203 \u24863 \u35874 \u20351 \u29992 \u65281 \u8203 **\u8203  \u22914 \u26524 \u39033 \u30446 \u23545 \u24744 \u26377 \u24110 \u21161 \u65292 \u35831 \u32771 \u34385  \u11088  \u32473 \u39033 \u30446  Star\u12289 \u55357 \u56546  \u20998 \u20139 \u32473 \u26379 \u21451 \u12289 \u55357 \u56347  \u25253 \u21578 \u38382 \u39064 \u25110  \u55357 \u56481  \u25552 \u20986 \u24314 \u35758 \u12290 \u31069 \u24744 \u20351 \u29992 \u24841 \u24555 \u65281 \u55357 \u57023 \u10024 \
}